<app-layout></app-layout>

<!-- ================================
    START BREADCRUMB AREA
================================= -->
<section class="breadcrumb-area section-padding img-bg-2">
  <div class="overlay"></div>
  <div class="container">
    <div class="breadcrumb-content d-flex flex-wrap align-items-center justify-content-between">
      <div class="section-heading">
        <h2 class="section__title text-white">Sign Up</h2>
      </div>
      <ul class="generic-list-item generic-list-item-white generic-list-item-arrow d-flex flex-wrap align-items-center">
        <li><a href="index.html">Home</a></li>
        <li>Pages</li>
        <li>Sign Up</li>
      </ul>
    </div>
  </div>
</section>

<!-- ================================
       START CONTACT AREA
================================= -->
<section class="contact-area section--padding position-relative">
  <span class="ring-shape ring-shape-1"></span>
  <span class="ring-shape ring-shape-2"></span>
  <span class="ring-shape ring-shape-3"></span>
  <span class="ring-shape ring-shape-4"></span>
  <span class="ring-shape ring-shape-5"></span>
  <span class="ring-shape ring-shape-6"></span>
  <span class="ring-shape ring-shape-7"></span>
  <div class="container">
    <div class="row">
      <div class="col-lg-7 mx-auto">
        <div class="card card-item">
          <div class="card-body">
            <h3 class="card-title text-center fs-24 lh-35 pb-4">
              Create an Account and <br />
              Start Learning!
            </h3>
            <div class="section-block"></div>
            <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()" class="pt-4">
              <!-- First Name -->
              <div class="input-box">
                <label class="label-text">First Name</label>
                <div class="form-group">
                  <input
                    formControlName="name"
                    class="form-control form--control"
                    [class.is-invalid]="(submitted || f['name'].touched) && f['name'].errors"
                    type="text"
                    placeholder="First name"
                  />
                  <span class="la la-user input-icon"></span>
                  <div class="invalid-feedback" *ngIf="(submitted || f['name'].touched) && f['name'].errors">
                    {{ getErrorMessage('name') }}
                  </div>
                </div>
              </div>

              <!-- Username -->
              <div class="input-box">
                <label class="label-text">Username</label>
                <div class="form-group">
                  <input
                    formControlName="username"
                    class="form-control form--control"
                    [class.is-invalid]="(submitted || f['username'].touched) && f['username'].errors"
                    type="text"
                    placeholder="Username"
                  />
                  <span class="la la-user input-icon"></span>
                  <div class="invalid-feedback" *ngIf="(submitted || f['username'].touched) && f['username'].errors">
                    {{ getErrorMessage('username') }}
                  </div>
                </div>
              </div>

              <!-- Email Address -->
              <div class="input-box">
                <label class="label-text">Email Address</label>
                <div class="form-group">
                  <input
                    formControlName="email"
                    class="form-control form--control"
                    [class.is-invalid]="(submitted || f['email'].touched) && f['email'].errors"
                    type="email"
                    placeholder="Enter email address"
                  />
                  <span class="la la-envelope input-icon"></span>
                  <div class="invalid-feedback" *ngIf="(submitted || f['email'].touched) && f['email'].errors">
                    {{ getErrorMessage('email') }}
                  </div>
                </div>
              </div>

              <!-- Phone Number -->
              <div class="input-box">
                <label class="label-text">Phone</label>
                <div class="form-group">
                  <input
                    formControlName="phone"
                    class="form-control form--control"
                    [class.is-invalid]="(submitted || f['phone'].touched) && f['phone'].errors"
                    type="text"
                    placeholder="Phone number"
                  />
                  <span class="la la-phone input-icon"></span>
                  <div class="invalid-feedback" *ngIf="(submitted || f['phone'].touched) && f['phone'].errors">
                    {{ getErrorMessage('phone') }}
                  </div>
                </div>
              </div>

              <!-- Address -->
              <div class="input-box">
                <label class="label-text">Address</label>
                <div class="form-group">
                  <input
                    formControlName="address"
                    class="form-control form--control"
                    [class.is-invalid]="(submitted || f['address'].touched) && f['address'].errors"
                    type="text"
                    placeholder="Address"
                  />
                  <span class="la la-home input-icon"></span>
                  <div class="invalid-feedback" *ngIf="(submitted || f['address'].touched) && f['address'].errors">
                    {{ getErrorMessage('address') }}
                  </div>
                </div>
              </div>

              <!-- Password -->
              <div class="input-box">
                <label class="label-text">Password</label>
                <div class="form-group">
                  <div class="input-group">
                    <input
                      formControlName="password"
                      class="form-control form--control"
                      [class.is-invalid]="(submitted || f['password'].touched) && f['password'].errors"
                      [type]="showPassword ? 'text' : 'password'"
                      placeholder="Password"
                    />
                    <span class="la la-lock input-icon"></span>
                    <button type="button" class="btn btn-link password-toggle" (click)="togglePasswordVisibility('password')">
                      <i [class]="showPassword ? 'la la-eye-slash' : 'la la-eye'"></i>
                    </button>
                  </div>
                  <div class="invalid-feedback" *ngIf="(submitted || f['password'].touched) && f['password'].errors">
                    {{ getErrorMessage('password') }}
                  </div>
                </div>
              </div>

              <!-- Confirm Password -->
              <div class="input-box">
                <label class="label-text">Confirm Password</label>
                <div class="form-group">
                  <div class="input-group">
                    <input
                      formControlName="confirmPassword"
                      class="form-control form--control"
                      [class.is-invalid]="(submitted || f['confirmPassword'].touched) && 
                        (f['confirmPassword'].errors || registrationForm.errors?.['passwordMismatch'])"
                      [type]="showConfirmPassword ? 'text' : 'password'"
                      placeholder="Confirm password"
                    />
                    <span class="la la-lock input-icon"></span>
                    <button type="button" class="btn btn-link password-toggle" (click)="togglePasswordVisibility('confirmPassword')">
                      <i [class]="showConfirmPassword ? 'la la-eye-slash' : 'la la-eye'"></i>
                    </button>
                  </div>
                  <div class="invalid-feedback" *ngIf="(submitted || f['confirmPassword'].touched) && 
                    (f['confirmPassword'].errors || registrationForm.errors?.['passwordMismatch'])">
                    {{ f['confirmPassword'].errors ? getErrorMessage('confirmPassword') : 'Passwords do not match' }}
                  </div>
                </div>
              </div>

              <!-- Submit Button -->
              <div class="btn-box">
                <button class="btn theme-btn" type="submit">
                  Register Account
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<app-footer></app-footer>
